/**
 * Mod form supplement.
 *
 * @module    mod_publication/modform
 * @package
 * @author    Simeon Naydenov (moninaydenov@gmail.com)
 * @copyright 2024 Academic Moodle Cooperation {@link http://www.academic-moodle-cooperation.org}
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_publication/modform",["jquery"],(function($){const teamAssignIds=$("#teamassignids").data("assignids").split(","),$approvalFromDate=$("#fitem_id_approvalfromdate"),$approvalToDate=$("#fitem_id_approvaltodate"),$obtainStudentApproval=$("#fitem_id_obtainstudentapproval"),$obtainGroupApproval=$("#fitem_id_obtaingroupapproval"),$selectObtainStudentApproval=$("#id_obtainstudentapproval"),$selectObtainGroupApproval=$("#id_obtaingroupapproval"),$selectImportFrom=$("#id_importfrom"),$radioMode=$('input[type="radio"][name="mode"]'),changeMode=function(){if("1"===$('input[type="radio"][name="mode"]:checked').val()){const importFrom=$selectImportFrom.val();-1!==teamAssignIds.indexOf(importFrom)?($obtainStudentApproval.attr("hidden","hidden").css("display","none"),$obtainGroupApproval.removeAttr("hidden").css("display","flex")):($obtainStudentApproval.removeAttr("hidden").css("display","flex"),$obtainGroupApproval.attr("hidden","hidden").css("display","none"))}else $obtainStudentApproval.removeAttr("hidden").css("display","flex"),$obtainGroupApproval.attr("hidden","hidden").css("display","none");changeObtainStudentApproval()},changeObtainStudentApproval=function(){let isAutomatic=!1;"hidden"!==$obtainStudentApproval.attr("hidden")?isAutomatic="0"===$selectObtainStudentApproval.val():"hidden"!==$obtainGroupApproval.attr("hidden")&&(isAutomatic="-1"===$selectObtainGroupApproval.val()),isAutomatic?($approvalFromDate.attr("hidden","hidden").css("display","none"),$approvalToDate.attr("hidden","hidden").css("display","none")):($approvalFromDate.removeAttr("hidden").css("display","flex"),$approvalToDate.removeAttr("hidden").css("display","flex"))};$selectObtainStudentApproval.on("change",changeObtainStudentApproval),$selectObtainGroupApproval.on("change",changeObtainStudentApproval),$radioMode.on("change",changeMode),$selectImportFrom.on("change",changeMode),changeMode()}));

//# sourceMappingURL=modform.min.js.map
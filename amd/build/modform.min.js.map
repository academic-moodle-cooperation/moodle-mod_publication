{"version":3,"file":"modform.min.js","sources":["../src/modform.js"],"sourcesContent":["// This file is part of mod_grouptool for Moodle - http://moodle.org/\n//\n// It is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// It is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Mod form supplement\n *\n * @module    mod_publication/modform\n * @package\n * @author    Simeon Naydenov (moninaydenov@gmail.com)\n * @copyright 2024 Academic Moodle Cooperation {@link http://www.academic-moodle-cooperation.org}\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'], function($) {\n    const FITEM_APPROVALFROM = '#fitem_id_approvalfromdate';\n    const FITEM_APPROVALTO = '#fitem_id_approvaltodate';\n    const FITEM_OBTAINSTUDENTAPPROVAL = '#fitem_id_obtainstudentapproval';\n    const FITEM_OBTAINGROUPAPPROVAL = '#fitem_id_obtaingroupapproval';\n    const SELECT_OBTAINSTUDENTAPPROVAL = '#id_obtainstudentapproval';\n    const SELECT_OBTAINGROUPAPPROVAL = '#id_obtaingroupapproval';\n    const GROUP_AUTOMATIC = '-1';\n    const STUDENT_AUTOMATIC = '0';\n\n    const $approvalFromDate = $(FITEM_APPROVALFROM);\n    const $approvalToDate = $(FITEM_APPROVALTO);\n    const $obtainStudentApproval = $(FITEM_OBTAINSTUDENTAPPROVAL);\n    const $obtainGroupApproval = $(FITEM_OBTAINGROUPAPPROVAL);\n    const $selectObtainStudentApproval = $(SELECT_OBTAINSTUDENTAPPROVAL);\n    const $selectObtainGroupApproval = $(SELECT_OBTAINGROUPAPPROVAL);\n\n    const changeObtainStudentApproval = function() {\n        let isAutomatic = false;\n        if ($obtainStudentApproval.attr('hidden') !== 'hidden') {\n            isAutomatic = $selectObtainStudentApproval.val() === STUDENT_AUTOMATIC;\n        } else if ($obtainGroupApproval.attr('hidden') !== 'hidden') {\n            isAutomatic = $selectObtainGroupApproval.val() === GROUP_AUTOMATIC;\n        }\n        if (isAutomatic) {\n            $approvalFromDate.attr('hidden', 'hidden').css('display', 'none');\n            $approvalToDate.attr('hidden', 'hidden').css('display', 'none');\n        } else {\n            $approvalFromDate.removeAttr('hidden').css('display', 'flex');\n            $approvalToDate.removeAttr('hidden').css('display', 'flex');\n        }\n\n    };\n    $selectObtainStudentApproval.on('change', changeObtainStudentApproval);\n    $selectObtainGroupApproval.on('change', changeObtainStudentApproval);\n    changeObtainStudentApproval();\n});"],"names":["define","$","$approvalFromDate","$approvalToDate","$obtainStudentApproval","$obtainGroupApproval","$selectObtainStudentApproval","$selectObtainGroupApproval","changeObtainStudentApproval","isAutomatic","attr","val","css","removeAttr","on"],"mappings":";;;;;;;;;AAwBAA,iCAAO,CAAC,WAAW,SAASC,GACxB,MASMC,kBAAoBD,EATC,8BAUrBE,gBAAkBF,EATC,4BAUnBG,uBAAyBH,EATK,mCAU9BI,qBAAuBJ,EATK,iCAU5BK,6BAA+BL,EATA,6BAU/BM,2BAA6BN,EATA,2BAW7BO,4BAA8B,WAChC,IAAIC,aAAc,EAC4B,WAA1CL,uBAAuBM,KAAK,UAC5BD,YAZkB,MAYJH,6BAA6BK,MACI,WAAxCN,qBAAqBK,KAAK,YACjCD,YAfgB,OAeFF,2BAA2BI,OAEzCF,aACAP,kBAAkBQ,KAAK,SAAU,UAAUE,IAAI,UAAW,QAC1DT,gBAAgBO,KAAK,SAAU,UAAUE,IAAI,UAAW,UAExDV,kBAAkBW,WAAW,UAAUD,IAAI,UAAW,QACtDT,gBAAgBU,WAAW,UAAUD,IAAI,UAAW,UAI5DN,6BAA6BQ,GAAG,SAAUN,6BAC1CD,2BAA2BO,GAAG,SAAUN,6BACxCA,6BACJ"}
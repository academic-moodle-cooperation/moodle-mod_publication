/**
 * Resets checked checkboxes after ZIP file was loaded!
 *
 * @module        mod_publication/filesform
 * @package
 * @author        Philipp Hager
 * @author        Hannes Laimer
 * @author        Andreas Windbichler
 * @copyright     2020 Academic Moodle Cooperation {@link http://www.academic-moodle-cooperation.org}
 * @license       http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_publication/filesform",["jquery","core/log"],(function($,log){var instance=new function(){this.form=$("#fastg"),this.menuaction=$("#menuaction"),this.usersel=$(".userselection"),this.attemptstable=$("table#attempts")};return instance.initializer=function(){if(log.info("Initialize filesform JS!","mod_publication"),instance.form.on("submit",(function(){"zipusers"===instance.menuaction.val()&&setTimeout((function(){instance.usersel.prop("checked",!1)}),100)})),this.attemptstable.length>0){var $rows=this.attemptstable.children("tbody").children("tr"),needsapprovalcount=0;$rows.each((function(){var $checkbox=$(this).find(".permissionstable select.custom-select");$checkbox.length>0&&$checkbox.each((function(){var $c=$(this);""===$c.val()&&($c.hasClass("needs-approval")||($c.addClass("needs-approval"),needsapprovalcount++,$c.after('<span class="needs-approval-asterisk">*</span>')))}))})),needsapprovalcount>0&&$(".needsapproval-legend").removeClass("d-none")}},instance}));

//# sourceMappingURL=filesform.min.js.map